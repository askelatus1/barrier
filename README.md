# Barrier Game

## Описание
Barrier - это игра, моделирующая взаимодействие между регионами через события и шаги. Каждое событие происходит между акторами (военными или гражданскими) из соседних регионов.

## Основные компоненты

### Регионы
- Каждый регион имеет уникальный идентификатор, название и статус (война/разруха/мир)
- Регионы связаны между собой через список соседей
- События могут происходить только между соседними регионами

### Акторы
- Военные (military) - представляют военные силы региона
- Гражданские (civilian) - представляют гражданское население
- Каждый актор принадлежит определенному региону

### События
- События (events) - основные взаимодействия между регионами
- Шаги (steps) - промежуточные этапы в рамках события
- Каждое событие имеет:
  - Правила выбора акторов (военные/гражданские)
  - Правила выбора территории (инициатор/жертва/оба)
  - Уведомления для разных этапов (начало/успех/провал)

### Трекинг
- Трекер отслеживает жизненный цикл событий
- Каждое событие имеет таймаут
- События могут завершиться успешно или провалиться
- Кэширование результатов поиска акторов для оптимизации

## Бизнес-правила

1. Выбор акторов:
   - Первый актор выбирается из общего пула по первому правилу
   - Второй актор выбирается только из соседних регионов по второму правилу

2. Территория:
   - Определяется на основе правил территории события
   - Может принадлежать инициатору, жертве или обоим

3. Уведомления:
   - Отправляются при начале события
   - Отправляются при успешном завершении
   - Отправляются при провале

4. Статусы регионов:
   - Влияют на доступность акторов
   - Могут изменяться в результате событий